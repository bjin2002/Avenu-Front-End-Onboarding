{"ast":null,"code":"import _toConsumableArray from\"/Users/Ben/Downloads/Avenu/front-end-onboarding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/Ben/Downloads/Avenu/front-end-onboarding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import TodoList from'./TodoList';import{v4 as uuidv4}from'uuid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LOCAL_STORAGE_KEY='todoApps.todos';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var todoNameRef=useRef();useEffect(function(){var storedTodos=JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));if(storedTodos)setTodos(storedTodos);},[]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(todos));},[todos]);function toggleTodo(id){var newTodos=_toConsumableArray(todos);var todos=newTodos.find(function(todo){return todo.id===id;});todo.complete=!todo.complete;setTodos(newTodos);}function handleAddTodo(e){var name=todoNameRef.current.value;if(name==='')return;setTodos(function(prevTodos){return[].concat(_toConsumableArray(prevTodos),[{id:uuidv4(),name:name,complete:false}]);});todoNameRef.current.value=null;}function handleClearTodo(e){var newTodos=todos.filter(function(tood){return!todo.complete;});setTodos(newTodos);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TodoList,{todos:todos,toggleTodo:toggleTodo}),/*#__PURE__*/_jsx(\"input\",{ref:todoNameRef,type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddTodo,children:\"  Add Todo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClearTodo,children:\"  Clear Complete \"}),/*#__PURE__*/_jsxs(\"div\",{children:[todos.filter(function(todo){return!todo.complete;}).length,\" left to do\"]})]});}export default App;","map":{"version":3,"sources":["/Users/Ben/Downloads/Avenu/front-end-onboarding/src/App.js"],"names":["React","useState","useRef","useEffect","TodoList","v4","uuidv4","LOCAL_STORAGE_KEY","App","todos","setTodos","todoNameRef","storedTodos","JSON","parse","localStorage","getItem","setItem","stringify","toggleTodo","id","newTodos","find","todo","complete","handleAddTodo","e","name","current","value","prevTodos","handleClearTodo","filter","tood","length"],"mappings":"oVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAkD,OAAlD,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAAQC,EAAE,GAAIC,CAAAA,MAAd,KAA2B,MAA3B,C,6IAEA,GAAMC,CAAAA,iBAAiB,CAAG,gBAA1B,CAGA,QAASC,CAAAA,GAAT,EAAe,CACb,cAA0BP,QAAQ,CAAC,EAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,WAAW,CAAGT,MAAM,EAA1B,CAEAC,SAAS,CAAE,UAAM,CACf,GAAMS,CAAAA,WAAW,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBT,iBAArB,CAAX,CAApB,CACA,GAAIK,WAAJ,CAAiBF,QAAQ,CAACE,WAAD,CAAR,CAClB,CAHQ,CAGN,EAHM,CAAT,CAKAT,SAAS,CAAE,UAAK,CACdY,YAAY,CAACE,OAAb,CAAqBV,iBAArB,CAAwCM,IAAI,CAACK,SAAL,CAAeT,KAAf,CAAxC,EACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,QAASU,CAAAA,UAAT,CAAoBC,EAApB,CAAwB,CACtB,GAAMC,CAAAA,QAAQ,oBAAOZ,KAAP,CAAd,CACA,GAAMA,CAAAA,KAAK,CAAGY,QAAQ,CAACC,IAAT,CAAc,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACH,EAAL,GAAYA,EAAhB,EAAlB,CAAd,CACAG,IAAI,CAACC,QAAL,CAAgB,CAACD,IAAI,CAACC,QAAtB,CACAd,QAAQ,CAACW,QAAD,CAAR,CACD,CAED,QAASI,CAAAA,aAAT,CAAuBC,CAAvB,CAA0B,CACxB,GAAMC,CAAAA,IAAI,CAAGhB,WAAW,CAACiB,OAAZ,CAAoBC,KAAjC,CAEA,GAAGF,IAAI,GAAK,EAAZ,CAAgB,OAChBjB,QAAQ,CAAC,SAAAoB,SAAS,CAAG,CACnB,mCAAWA,SAAX,GAAsB,CAACV,EAAE,CAAEd,MAAM,EAAX,CAAeqB,IAAI,CAAEA,IAArB,CAA2BH,QAAQ,CAAE,KAArC,CAAtB,GACD,CAFO,CAAR,CAGAb,WAAW,CAACiB,OAAZ,CAAoBC,KAApB,CAA4B,IAA5B,CACD,CAED,QAASE,CAAAA,eAAT,CAAyBL,CAAzB,CAA4B,CAC1B,GAAML,CAAAA,QAAQ,CAAGZ,KAAK,CAACuB,MAAN,CAAa,SAAAC,IAAI,QAAI,CAACV,IAAI,CAACC,QAAV,EAAjB,CAAjB,CACAd,QAAQ,CAACW,QAAD,CAAR,CACD,CAED,mBACE,wCACE,KAAC,QAAD,EAAU,KAAK,CAAEZ,KAAjB,CAAwB,UAAU,CAAIU,UAAtC,EADF,cAEE,cAAO,GAAG,CAAIR,WAAd,CAA2B,IAAI,CAAG,MAAlC,EAFF,cAGE,eAAQ,OAAO,CAAIc,aAAnB,wBAHF,cAIE,eAAQ,OAAO,CAAIM,eAAnB,+BAJF,cAKE,uBAAMtB,KAAK,CAACuB,MAAN,CAAa,SAAAT,IAAI,QAAI,CAACA,IAAI,CAACC,QAAV,EAAjB,EAAqCU,MAA3C,iBALF,GADF,CASD,CAED,cAAe1B,CAAAA,GAAf","sourcesContent":["import React, { useState, useRef, useEffect} from 'react'\nimport TodoList from './TodoList'\nimport {v4 as uuidv4} from 'uuid'\n\nconst LOCAL_STORAGE_KEY = 'todoApps.todos'\n\n\nfunction App() {\n  const [todos, setTodos] = useState([])\n  const todoNameRef = useRef()\n\n  useEffect (() => {\n    const storedTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY))\n    if (storedTodos) setTodos(storedTodos)\n  }, [] )\n\n  useEffect (() =>{\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos))\n  }, [todos])\n\n  function toggleTodo(id) {\n    const newTodos = [...todos]\n    const todos = newTodos.find(todo => todo.id === id)\n    todo.complete = !todo.complete\n    setTodos(newTodos)\n  }\n \n  function handleAddTodo(e) {\n    const name = todoNameRef.current.value\n\n    if(name === '') return\n    setTodos(prevTodos=> {\n      return [...prevTodos, {id: uuidv4(), name: name, complete: false}]\n    })\n    todoNameRef.current.value = null\n  }\n\n  function handleClearTodo(e) {\n    const newTodos = todos.filter(tood => !todo.complete)\n    setTodos(newTodos)\n  }\n\n  return (\n    <>\n      <TodoList todos={todos} toggleTodo = {toggleTodo}/>\n      <input ref = {todoNameRef} type = \"text\"/>\n      <button onClick = {handleAddTodo}>  Add Todo</button>\n      <button onClick = {handleClearTodo}>  Clear Complete </button>\n      <div>{todos.filter(todo => !todo.complete).length} left to do</div>\n    </>\n  )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}